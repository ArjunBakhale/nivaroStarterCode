(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{4712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return m}});let r=n(6927),o=n(5909),a=o._(n(2310)),i=r._(n(2930)),l=n(2017),s=n(6374),u=n(168);n(7653);let c=r._(n(5840)),d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function f(e,t,n,r,o,a){let i=null==e?void 0:e.src;if(!e||e["data-loaded-src"]===i)return;e["data-loaded-src"]=i;let l="decode"in e?e.decode():Promise.resolve();l.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("blur"===t&&o(!0),null==n?void 0:n.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,o=!1;n.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}})}(null==r?void 0:r.current)&&r.current(e)}})}function p(e){let[t,n]=a.version.split("."),r=parseInt(t,10),o=parseInt(n,10);return r>18||18===r&&o>=3?{fetchPriority:e}:{fetchpriority:e}}let g=(0,a.forwardRef)((e,t)=>{let{src:n,srcSet:r,sizes:o,height:i,width:l,decoding:s,className:u,style:c,fetchPriority:d,placeholder:g,loading:m,unoptimized:h,fill:y,onLoadRef:_,onLoadingCompleteRef:v,setBlurComplete:b,setShowAltText:w,onLoad:E,onError:S,...x}=e;return a.default.createElement("img",{...x,...p(d),loading:m,width:l,height:i,decoding:s,"data-nimg":y?"fill":"1",className:u,style:c,sizes:o,srcSet:r,src:n,ref:(0,a.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(S&&(e.src=e.src),e.complete&&f(e,g,_,v,b,h))},[n,g,_,v,b,S,h,t]),onLoad:e=>{let t=e.currentTarget;f(t,g,_,v,b,h)},onError:e=>{w(!0),"blur"===g&&b(!0),S&&S(e)}})}),m=(0,a.forwardRef)((e,t)=>{let n=(0,a.useContext)(u.ImageConfigContext),r=(0,a.useMemo)(()=>{let e=d||n||s.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r}},[n]),{onLoad:o,onLoadingComplete:f}=e,m=(0,a.useRef)(o);(0,a.useEffect)(()=>{m.current=o},[o]);let h=(0,a.useRef)(f);(0,a.useEffect)(()=>{h.current=f},[f]);let[y,_]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),{props:w,meta:E}=(0,l.getImgProps)(e,{defaultLoader:c.default,imgConf:r,blurComplete:y,showAltText:v});return a.default.createElement(a.default.Fragment,null,a.default.createElement(g,{...w,unoptimized:E.unoptimized,placeholder:E.placeholder,fill:E.fill,onLoadRef:m,onLoadingCompleteRef:h,setBlurComplete:_,setShowAltText:b,ref:t}),E.priority?a.default.createElement(i.default,null,a.default.createElement("link",{key:"__nimg-"+w.src+w.srcSet+w.sizes,rel:"preload",as:"image",href:w.srcSet?void 0:w.src,imageSrcSet:w.srcSet,imageSizes:w.sizes,crossOrigin:w.crossOrigin,referrerPolicy:w.referrerPolicy,...p(w.fetchPriority)})):null)});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return a}});let r=n(6927),o=r._(n(2310)),a=o.default.createContext({})},7290:function(e,t){"use strict";function n(e){let{ampFirst:t=!1,hybrid:n=!1,hasQuery:r=!1}=void 0===e?{}:e;return t||n&&r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return n}})},2017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return s}}),n(7653);let r=n(2325),o=n(6374),a={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function i(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function s(e,t){var n;let s,u,c,{src:d,sizes:f,unoptimized:p=!1,priority:g=!1,loading:m,className:h,quality:y,width:_,height:v,fill:b=!1,style:w,onLoad:E,onLoadingComplete:S,placeholder:x="empty",blurDataURL:O,fetchPriority:C,layout:j,objectFit:k,objectPosition:R,lazyBoundary:P,lazyRoot:I,...T}=e,{imgConf:A,showAltText:M,blurComplete:D,defaultLoader:N}=t,V=A||a||o.imageConfigDefault;if("allSizes"in V)s=V;else{let e=[...V.deviceSizes,...V.imageSizes].sort((e,t)=>e-t),t=V.deviceSizes.sort((e,t)=>e-t);s={...V,allSizes:e,deviceSizes:t}}let z=T.loader||N;delete T.loader,delete T.srcSet;let L="__next_img_default"in z;if(L){if("custom"===s.loader)throw Error('Image with src "'+d+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=z;z=t=>{let{config:n,...r}=t;return e(r)}}if(j){"fill"===j&&(b=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];e&&(w={...w,...e});let t={responsive:"100vw",fill:"100vw"}[j];t&&!f&&(f=t)}let F="",U=l(_),W=l(v);if("object"==typeof(n=d)&&(i(n)||void 0!==n.src)){let e=i(d)?d.default:d;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(u=e.blurWidth,c=e.blurHeight,O=O||e.blurDataURL,F=e.src,!b){if(U||W){if(U&&!W){let t=U/e.width;W=Math.round(e.height*t)}else if(!U&&W){let t=W/e.height;U=Math.round(e.width*t)}}else U=e.width,W=e.height}}let J=!g&&("lazy"===m||void 0===m);(!(d="string"==typeof d?d:F)||d.startsWith("data:")||d.startsWith("blob:"))&&(p=!0,J=!1),s.unoptimized&&(p=!0),L&&d.endsWith(".svg")&&!s.dangerouslyAllowSVG&&(p=!0),g&&(C="high");let B=l(y),q=Object.assign(b?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:k,objectPosition:R}:{},M?{}:{color:"transparent"},w),G="blur"===x&&O&&!D?{backgroundSize:q.objectFit||"cover",backgroundPosition:q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:U,heightInt:W,blurWidth:u,blurHeight:c,blurDataURL:O,objectFit:q.objectFit})+'")'}:{},$=function(e){let{config:t,src:n,unoptimized:r,width:o,quality:a,sizes:i,loader:l}=e;if(r)return{src:n,srcSet:void 0,sizes:void 0};let{widths:s,kind:u}=function(e,t,n){let{deviceSizes:r,allSizes:o}=e;if(n){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(n);r)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:o.filter(t=>t>=r[0]*e),kind:"w"}}return{widths:o,kind:"w"}}if("number"!=typeof t)return{widths:r,kind:"w"};let a=[...new Set([t,2*t].map(e=>o.find(t=>t>=e)||o[o.length-1]))];return{widths:a,kind:"x"}}(t,o,i),c=s.length-1;return{sizes:i||"w"!==u?i:"100vw",srcSet:s.map((e,r)=>l({config:t,src:n,quality:a,width:e})+" "+("w"===u?e:r+1)+u).join(", "),src:l({config:t,src:n,quality:a,width:s[c]})}}({config:s,src:d,unoptimized:p,width:U,quality:B,sizes:f,loader:z}),H={...T,loading:J?"lazy":m,fetchPriority:C,width:U,height:W,decoding:"async",className:h,style:{...q,...G},sizes:$.sizes,srcSet:$.srcSet,src:$.src},Y={unoptimized:p,priority:g,placeholder:x,fill:b};return{props:H,meta:Y}}},2930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{defaultHead:function(){return c},default:function(){return g}});let r=n(6927),o=n(5909),a=o._(n(2310)),i=r._(n(9488)),l=n(4626),s=n(6436),u=n(7290);function c(e){void 0===e&&(e=!1);let t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}n(7653);let f=["name","httpEquiv","charSet","itemProp"];function p(e,t){let{inAmpMode:n}=t;return e.reduce(d,[]).reverse().concat(c(n).reverse()).filter(function(){let e=new Set,t=new Set,n=new Set,r={};return o=>{let a=!0,i=!1;if(o.key&&"number"!=typeof o.key&&o.key.indexOf("$")>0){i=!0;let t=o.key.slice(o.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(o.type){case"title":case"base":t.has(o.type)?a=!1:t.add(o.type);break;case"meta":for(let e=0,t=f.length;e<t;e++){let t=f[e];if(o.props.hasOwnProperty(t)){if("charSet"===t)n.has(t)?a=!1:n.add(t);else{let e=o.props[t],n=r[t]||new Set;("name"!==t||!i)&&n.has(e)?a=!1:(n.add(e),r[t]=n)}}}}return a}}()).reverse().map((e,t)=>{let r=e.key||t;if(!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,a.default.cloneElement(e,t)}return a.default.cloneElement(e,{key:r})})}let g=function(e){let{children:t}=e,n=(0,a.useContext)(l.AmpStateContext),r=(0,a.useContext)(s.HeadManagerContext);return a.default.createElement(i.default,{reduceComponentsToState:p,headManager:r,inAmpMode:(0,u.isInAmpMode)(n)},t)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2325:function(e,t){"use strict";function n(e){let{widthInt:t,heightInt:n,blurWidth:r,blurHeight:o,blurDataURL:a,objectFit:i}=e,l=r||t,s=o||n,u=a.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return l&&s?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 "+l+" "+s+"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='"+(r&&o?"1":"20")+"'/%3E"+u+"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='"+a+"'/%3E%3C/svg%3E":"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' preserveAspectRatio='"+("contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none")+"' x='0' y='0' height='100%25' width='100%25' href='"+a+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return n}})},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return i}});let r=n(6927),o=r._(n(2310)),a=n(6374),i=o.default.createContext(a.imageConfigDefault)},6374:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{VALID_LOADERS:function(){return n},imageConfigDefault:function(){return r}});let n=["default","imgix","cloudinary","akamai","custom"],r={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},4595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return u},unstable_getImgProps:function(){return s}});let r=n(6927),o=n(2017),a=n(7653),i=n(4712),l=r._(n(5840)),s=e=>{(0,a.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,o.getImgProps)(e,{defaultLoader:l.default});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}},u=i.Image},5840:function(e,t){"use strict";function n(e){let{config:t,src:n,width:r,quality:o}=e;return t.path+"?url="+encodeURIComponent(n)+"&w="+r+"&q="+(o||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),n.__next_img_default=!0;let r=n},9488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=n(5909),o=r._(n(2310)),a=o.useLayoutEffect,i=o.useEffect;function l(e){let{headManager:t,reduceComponentsToState:n}=e;function r(){if(t&&t.mountedInstances){let r=o.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(r,e))}}return a(()=>{var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),()=>{var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}}),a(()=>(t&&(t._pendingUpdate=r),()=>{t&&(t._pendingUpdate=r)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},7653:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},6394:function(e,t,n){e.exports=n(4595)},3270:function(e,t,n){"use strict";n.d(t,{w_:function(){return s}});var r=n(2310),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(o),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function s(e){return function(t){return r.createElement(u,i({attr:i({},e.attr)},t),function e(t){return t&&t.map(function(t,n){return r.createElement(t.tag,i({key:n},t.attr),e(t.child))})}(e.child))}}function u(e){var t=function(t){var n,o=e.attr,a=e.size,s=e.title,u=l(e,["attr","size","title"]),c=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:n,style:i(i({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==a?r.createElement(a.Consumer,null,function(e){return t(e)}):t(o)}},8727:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2310),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,c=r[1];return l(function(){o.value=n,o.getSnapshot=t,u(o)&&c({inst:o})},[e,n,t]),i(function(){return u(o)&&c({inst:o}),e(function(){u(o)&&c({inst:o})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},3276:function(e,t,n){"use strict";e.exports=n(8727)},6225:function(e,t,n){"use strict";n.d(t,{RJ:function(){return eb}});var r,o=n(2310),a=n(3276);let i=()=>{},l=i(),s=Object,u=e=>e===l,c=e=>"function"==typeof e,d=(e,t)=>({...e,...t}),f=e=>c(e.then),p=new WeakMap,g=0,m=e=>{let t,n;let r=typeof e,o=e&&e.constructor,a=o==Date;if(s(e)!==e||a||o==RegExp)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=p.get(e))return t;if(t=++g+"~",p.set(e,t),o==Array){for(n=0,t="@";n<e.length;n++)t+=m(e[n])+",";p.set(e,t)}if(o==s){t="#";let r=s.keys(e).sort();for(;!u(n=r.pop());)u(e[n])||(t+=n+":"+m(e[n])+",");p.set(e,t)}}return t},h=new WeakMap,y={},_={},v="undefined",b=typeof window!=v,w=typeof document!=v,E=()=>b&&typeof window.requestAnimationFrame!=v,S=(e,t)=>{let n=h.get(e);return[()=>!u(t)&&e.get(t)||y,r=>{if(!u(t)){let o=e.get(t);t in _||(_[t]=o),n[5](t,d(o,r),o||y)}},n[6],()=>!u(t)&&t in _?_[t]:!u(t)&&e.get(t)||y]},x=!0,[O,C]=b&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],j={initFocus:e=>(w&&document.addEventListener("visibilitychange",e),O("focus",e),()=>{w&&document.removeEventListener("visibilitychange",e),C("focus",e)}),initReconnect:e=>{let t=()=>{x=!0,e()},n=()=>{x=!1};return O("online",t),O("offline",n),()=>{C("online",t),C("offline",n)}}},k=!o.useId,R=!b||"Deno"in window,P=e=>E()?window.requestAnimationFrame(e):setTimeout(e,1),I=R?o.useEffect:o.useLayoutEffect,T="undefined"!=typeof navigator&&navigator.connection,A=!R&&T&&(["slow-2g","2g"].includes(T.effectiveType)||T.saveData),M=e=>{if(c(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?m(e):"",t]},D=0,N=()=>++D;var V={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function z(...e){let[t,n,r,o]=e,a=d({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),i=a.populateCache,s=a.rollbackOnError,p=a.optimisticData,g=!1!==a.revalidate,m=e=>"function"==typeof s?s(e):!1!==s,y=a.throwOnError;if(c(n)){let e=[],r=t.keys();for(let o of r)!/^\$(inf|sub)\$/.test(o)&&n(t.get(o)._k)&&e.push(o);return Promise.all(e.map(_))}return _(n);async function _(n){let o;let[a]=M(n);if(!a)return;let[s,d]=S(t,a),[_,v,b,w]=h.get(t),E=_[a],x=()=>g&&(delete b[a],delete w[a],E&&E[0])?E[0](2).then(()=>s().data):s().data;if(e.length<3)return x();let O=r,C=N();v[a]=[C,0];let j=!u(p),k=s(),R=k.data,P=k._c,I=u(P)?R:P;if(j&&d({data:p=c(p)?p(I,R):p,_c:I}),c(O))try{O=O(I)}catch(e){o=e}if(O&&f(O)){if(O=await O.catch(e=>{o=e}),C!==v[a][0]){if(o)throw o;return O}o&&j&&m(o)&&(i=!0,d({data:O=I,_c:l}))}i&&!o&&(c(i)&&(O=i(O,I)),d({data:O,error:l,_c:l})),v[a][1]=N();let T=await x();if(d({_c:l}),o){if(y)throw o;return}return i?T:O}}let L=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},F=(e,t)=>{if(!h.has(e)){let n=d(j,t),r={},o=z.bind(l,e),a=i,s={},u=(e,t)=>{let n=s[e]||[];return s[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},c=(t,n,r)=>{e.set(t,n);let o=s[t];if(o)for(let e of o)e(n,r)},f=()=>{if(!h.has(e)&&(h.set(e,[r,{},{},{},o,c,u]),!R)){let t=n.initFocus(setTimeout.bind(l,L.bind(l,r,0))),o=n.initReconnect(setTimeout.bind(l,L.bind(l,r,1)));a=()=>{t&&t(),o&&o(),h.delete(e)}}};return f(),[e,o,f,a]}return[e,h.get(e)[4]]},[U,W]=F(new Map),J=d({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,n,r,o)=>{let a=n.errorRetryCount,i=o.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;(u(a)||!(i>a))&&setTimeout(r,l,o)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:A?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:A?5e3:3e3,compare:(e,t)=>m(e)==m(t),isPaused:()=>!1,cache:U,mutate:W,fallback:{}},{isOnline:()=>x,isVisible:()=>{let e=w&&document.visibilityState;return u(e)||"hidden"!==e}}),B=(e,t)=>{let n=d(e,t);if(t){let{use:r,fallback:o}=e,{use:a,fallback:i}=t;r&&a&&(n.use=r.concat(a)),o&&i&&(n.fallback=d(o,i))}return n},q=(0,o.createContext)({}),G=b&&window.__SWR_DEVTOOLS_USE__,$=G?window.__SWR_DEVTOOLS_USE__:[],H=e=>c(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Y=()=>d(J,(0,o.useContext)(q)),X=$.concat(e=>(t,n,r)=>{let o=n&&((...e)=>{let[r]=M(t),[,,,o]=h.get(U),a=o[r];return u(a)?n(...e):(delete o[r],a)});return e(t,o,r)}),K=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};G&&(window.__SWR_DEVTOOLS_REACT__=o);let Q=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),Z={dedupe:!0};s.defineProperty(e=>{let{value:t}=e,n=(0,o.useContext)(q),r=c(t),a=(0,o.useMemo)(()=>r?t(n):t,[r,n,t]),i=(0,o.useMemo)(()=>r?a:B(n,a),[r,n,a]),s=a&&a.provider,u=(0,o.useRef)(l);s&&!u.current&&(u.current=F(s(i.cache||U),a));let f=u.current;return f&&(i.cache=f[0],i.mutate=f[1]),I(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,o.createElement)(q.Provider,d(e,{value:i}))},"defaultValue",{value:J});let ee=(r=(e,t,n)=>{let{cache:r,compare:i,suspense:s,fallbackData:f,revalidateOnMount:p,revalidateIfStale:g,refreshInterval:m,refreshWhenHidden:y,refreshWhenOffline:_,keepPreviousData:v}=n,[b,w,E,x]=h.get(r),[O,C]=M(e),j=(0,o.useRef)(!1),T=(0,o.useRef)(!1),A=(0,o.useRef)(O),D=(0,o.useRef)(t),L=(0,o.useRef)(n),F=()=>L.current,U=()=>F().isVisible()&&F().isOnline(),[W,J,B,q]=S(r,O),G=(0,o.useRef)({}).current,$=u(f)?n.fallback[O]:f,H=(e,t)=>{for(let n in G)if("data"===n){if(!i(e[n],t[n])&&(!u(e[n])||!i(ei,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},Y=(0,o.useMemo)(()=>{let e=!!O&&!!t&&(u(p)?!F().isPaused()&&!s&&(!!u(g)||g):p),n=t=>{let n=d(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=W(),o=q(),a=n(r),i=r===o?a:n(o),l=a;return[()=>{let e=n(W()),t=H(e,l);return t?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>i]},[r,O]),X=(0,a.useSyncExternalStore)((0,o.useCallback)(e=>B(O,(t,n)=>{H(n,t)||e()}),[r,O]),Y[0],Y[1]),ee=!j.current,et=b[O]&&b[O].length>0,en=X.data,er=u(en)?$:en,eo=X.error,ea=(0,o.useRef)(er),ei=v?u(en)?ea.current:en:er,el=(!et||!!u(eo))&&(ee&&!u(p)?p:!F().isPaused()&&(s?!u(er)&&g:u(er)||g)),es=!!(O&&t&&ee&&el),eu=u(X.isValidating)?es:X.isValidating,ec=u(X.isLoading)?es:X.isLoading,ed=(0,o.useCallback)(async e=>{let t,r;let o=D.current;if(!O||!o||T.current||F().isPaused())return!1;let a=!0,s=e||{},d=!E[O]||!s.dedupe,f=()=>k?!T.current&&O===A.current&&j.current:O===A.current,p={isValidating:!1,isLoading:!1},g=()=>{J(p)},m=()=>{let e=E[O];e&&e[1]===r&&delete E[O]},h={isValidating:!0};u(W().data)&&(h.isLoading=!0);try{if(d&&(J(h),n.loadingTimeout&&u(W().data)&&setTimeout(()=>{a&&f()&&F().onLoadingSlow(O,n)},n.loadingTimeout),E[O]=[o(C),N()]),[t,r]=E[O],t=await t,d&&setTimeout(m,n.dedupingInterval),!E[O]||E[O][1]!==r)return d&&f()&&F().onDiscarded(O),!1;p.error=l;let e=w[O];if(!u(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return g(),d&&f()&&F().onDiscarded(O),!1;let s=W().data;p.data=i(s,t)?s:t,d&&f()&&F().onSuccess(t,O,n)}catch(n){m();let e=F(),{shouldRetryOnError:t}=e;!e.isPaused()&&(p.error=n,d&&f()&&(e.onError(n,O,e),(!0===t||c(t)&&t(n))&&U()&&e.onErrorRetry(n,O,e,e=>{let t=b[O];t&&t[0]&&t[0](V.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,g(),!0},[O,r]),ef=(0,o.useCallback)((...e)=>z(r,A.current,...e),[]);if(I(()=>{D.current=t,L.current=n,u(en)||(ea.current=en)}),I(()=>{if(!O)return;let e=ed.bind(l,Z),t=0,n=K(O,b,(n,r={})=>{if(n==V.FOCUS_EVENT){let n=Date.now();F().revalidateOnFocus&&n>t&&U()&&(t=n+F().focusThrottleInterval,e())}else if(n==V.RECONNECT_EVENT)F().revalidateOnReconnect&&U()&&e();else if(n==V.MUTATE_EVENT)return ed();else if(n==V.ERROR_REVALIDATE_EVENT)return ed(r)});return T.current=!1,A.current=O,j.current=!0,J({_k:C}),el&&(u(er)||R?e():P(e)),()=>{T.current=!0,n()}},[O]),I(()=>{let e;function t(){let t=c(m)?m(W().data):m;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!W().error&&(y||F().isVisible())&&(_||F().isOnline())?ed(Z).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[m,y,_,O]),(0,o.useDebugValue)(ei),s&&u(er)&&O){if(!k&&R)throw Error("Fallback data is required when using suspense in SSR.");D.current=t,L.current=n,T.current=!1;let e=x[O];if(!u(e)){let t=ef(e);Q(t)}if(u(eo)){let e=ed(Z);u(ei)||(e.status="fulfilled",e.value=!0),Q(e)}else throw eo}return{mutate:ef,get data(){return G.data=!0,ei},get error(){return G.error=!0,eo},get isValidating(){return G.isValidating=!0,eu},get isLoading(){return G.isLoading=!0,ec}}},function(...e){let t=Y(),[n,o,a]=H(e),i=B(t,a),l=r,{use:s}=i,u=(s||[]).concat(X);for(let e=u.length;e--;)l=u[e](l);return l(n,o||i.fetcher||null,i)});var et={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},en={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},er={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},eo={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},ea={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},ei={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},el={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},es={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>{null!=e&&"object"==typeof e&&"id"in e&&"string"==typeof e.id&&"type"in e&&"string"==typeof e.type&&"function"in e&&null!=e.function&&"object"==typeof e.function&&"arguments"in e.function&&"string"==typeof e.function.name&&e.function.arguments}))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},eu={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},ec={[et.code]:et,[en.code]:en,[er.code]:er,[eo.code]:eo,[ea.code]:ea,[ei.code]:ei,[el.code]:el,[es.code]:es,[eu.code]:eu};et.name,et.code,en.name,en.code,er.name,er.code,eo.name,eo.code,ea.name,ea.code,ei.name,ei.code,el.name,el.code,es.name,es.code,eu.name,eu.code;var ed=[et,en,er,eo,ea,ei,el,es,eu].map(e=>e.code),ef=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let n=e.slice(0,t);if(!ed.includes(n))throw Error(`Failed to parse stream string. Invalid code ${n}.`);let r=e.slice(t+1),o=JSON.parse(r);return ec[n].parse(o)};async function*ep(e,{isAborted:t}={}){let n=new TextDecoder,r=[],o=0;for(;;){let{value:a}=await e.read();if(a&&(r.push(a),o+=a.length,10!==a[a.length-1]))continue;if(0===r.length)break;let i=function(e,t){let n=new Uint8Array(t),r=0;for(let t of e)n.set(t,r),r+=t.length;return e.length=0,n}(r,o);o=0;let l=n.decode(i,{stream:!0}).split("\n").filter(e=>""!==e).map(ef);for(let e of l)yield e;if(null==t?void 0:t()){e.cancel();break}}}var eg=((e,t=21)=>(n=t)=>{let r="",o=n;for(;o--;)r+=e[Math.random()*e.length|0];return r})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);function em(e,t){return e&&t&&t.length?{...e,annotations:[...t]}:e}async function eh({reader:e,abortControllerRef:t,update:n,onFinish:r,generateId:o=eg,getCurrentDate:a=()=>new Date}){let i;let l=a(),s={data:[]};for await(let{type:r,value:a}of ep(e,{isAborted:()=>(null==t?void 0:t.current)===null})){"text"===r&&(s.text?s.text={...s.text,content:(s.text.content||"")+a}:s.text={id:o(),role:"assistant",content:a,createdAt:l});let e=null;"function_call"===r&&(s.function_call={id:o(),role:"assistant",content:"",function_call:a.function_call,name:a.function_call.name,createdAt:l},e=s.function_call);let t=null;"tool_calls"===r&&(s.tool_calls={id:o(),role:"assistant",content:"",tool_calls:a.tool_calls,createdAt:l},t=s.tool_calls),"data"===r&&s.data.push(...a);let u=s.text;if("message_annotations"===r&&(i?i.push(...a):i=[...a],e=em(s.function_call,i),t=em(s.tool_calls,i),u=em(s.text,i)),null==i?void 0:i.length){let e=["text","function_call","tool_calls"];e.forEach(e=>{s[e]&&(s[e].annotations=[...i])})}let c=[e,t,u].filter(Boolean).map(e=>({...em(e,i)}));n(c,[...s.data])}return null==r||r(s),{messages:[s.text,s.function_call,s.tool_calls].filter(Boolean),data:s.data}}async function ey({api:e,messages:t,body:n,credentials:r,headers:o,abortController:a,appendMessage:i,restoreMessagesOnFailure:l,onResponse:s,onUpdate:u,onFinish:c,generateId:d}){var f;let p=await fetch(e,{method:"POST",body:JSON.stringify({messages:t,...n}),headers:{"Content-Type":"application/json",...o},signal:null==(f=null==a?void 0:a())?void 0:f.signal,credentials:r}).catch(e=>{throw l(),e});if(s)try{await s(p)}catch(e){throw e}if(!p.ok)throw l(),Error(await p.text()||"Failed to fetch the chat response.");if(!p.body)throw Error("The response body is empty.");let g=p.body.getReader(),m="true"===p.headers.get("X-Experimental-Stream-Data");if(m)return await eh({reader:g,abortControllerRef:null!=a?{current:a()}:void 0,update:u,onFinish(e){c&&null!=e.text&&c(e.text)},generateId:d});{let e=new Date,t=function(e){let t=new TextDecoder;return e?function(e){let n=t.decode(e,{stream:!0}).split("\n").filter(e=>""!==e);return n.map(ef).filter(Boolean)}:function(e){return e?t.decode(e,{stream:!0}):""}}(!1),n="",r=d(),o={id:r,createdAt:e,content:"",role:"assistant"};for(;;){let{done:e,value:r}=await g.read();if(e)break;if((n+=t(r)).startsWith('{"function_call":')?o.function_call=n:n.startsWith('{"tool_calls":')?o.tool_calls=n:o.content=n,i({...o}),(null==a?void 0:a())===null){g.cancel();break}}if(n.startsWith('{"function_call":')){let e=JSON.parse(n).function_call;o.function_call=e,i({...o})}if(n.startsWith('{"tool_calls":')){let e=JSON.parse(n).tool_calls;o.tool_calls=e,i({...o})}return c&&c(o),o}}async function e_({getStreamedResponse:e,experimental_onFunctionCall:t,experimental_onToolCall:n,updateChatRequest:r,getCurrentMessages:o}){for(;;){let a=await e();if("messages"in a){let e=!1;for(let i of a.messages)if(void 0!==i.function_call&&"string"!=typeof i.function_call||void 0!==i.tool_calls&&"string"!=typeof i.tool_calls){if(e=!0,t){let n=i.function_call;if("object"!=typeof n){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let a=await t(o(),n);if(void 0===a){e=!1;break}r(a)}if(n){let t=i.tool_calls;if(!Array.isArray(t)||t.some(e=>"object"!=typeof e)){console.warn("experimental_onToolCall should not be defined when using tools");continue}let a=await n(o(),t);if(void 0===a){e=!1;break}r(a)}}if(!e)break}else{let e=function(e){for(let t of e.messages){if(void 0!==t.tool_calls)for(let e of t.tool_calls)"object"==typeof e&&e.function.arguments&&"string"!=typeof e.function.arguments&&(e.function.arguments=JSON.stringify(e.function.arguments));void 0!==t.function_call&&"object"==typeof t.function_call&&t.function_call.arguments&&"string"!=typeof t.function_call.arguments&&(t.function_call.arguments=JSON.stringify(t.function_call.arguments))}};if((void 0===a.function_call||"string"==typeof a.function_call)&&(void 0===a.tool_calls||"string"==typeof a.tool_calls))break;if(t){let n=a.function_call;if("object"!=typeof n){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let i=await t(o(),n);if(void 0===i)break;e(i),r(i)}if(n){let t=a.tool_calls;if("object"!=typeof t){console.warn("experimental_onToolCall should not be defined when using functions");continue}let i=await n(o(),t);if(void 0===i)break;e(i),r(i)}}}}var ev=async(e,t,n,r,o,a,i,l,s,u,c,d)=>{var f,p;let g=i.current;n(t.messages,!1);let m=d?t.messages:t.messages.map(({role:e,content:t,name:n,function_call:r,tool_calls:o,tool_call_id:a})=>({role:e,content:t,tool_call_id:a,...void 0!==n&&{name:n},...void 0!==r&&{function_call:r},...void 0!==o&&{tool_calls:o}}));if("string"!=typeof e){let r=s(),o=new Date,a={id:r,createdAt:o,content:"",role:"assistant"};async function h(e){let{content:r,ui:o,next:i}=await e;a.content=r,a.ui=await o,n([...t.messages,{...a}],!1),i&&await h(i)}try{let n=e({messages:m,data:t.data});await h(n)}catch(e){throw n(g,!1),e}return u&&u(a),a}return await ey({api:e,messages:m,body:{data:t.data,...a.current.body,...null==(f=t.options)?void 0:f.body,...void 0!==t.functions&&{functions:t.functions},...void 0!==t.function_call&&{function_call:t.function_call},...void 0!==t.tools&&{tools:t.tools},...void 0!==t.tool_choice&&{tool_choice:t.tool_choice}},credentials:a.current.credentials,headers:{...a.current.headers,...null==(p=t.options)?void 0:p.headers},abortController:()=>l.current,appendMessage(e){n([...t.messages,e],!1)},restoreMessagesOnFailure(){n(g,!1)},onResponse:c,onUpdate(e,a){n([...t.messages,...e],!1),r([...o||[],...a||[]],!1)},onFinish:u,generateId:s})};function eb({api:e="/api/chat",id:t,initialMessages:n,initialInput:r="",sendExtraMessageFields:a,experimental_onFunctionCall:i,experimental_onToolCall:l,onResponse:s,onFinish:u,onError:c,credentials:d,headers:f,body:p,generateId:g=eg}={}){let m=(0,o.useId)(),h=null!=t?t:m,y="string"==typeof e?[e,h]:h,[_]=(0,o.useState)([]),{data:v,mutate:b}=ee([y,"messages"],null,{fallbackData:null!=n?n:_}),{data:w=!1,mutate:E}=ee([y,"loading"],null),{data:S,mutate:x}=ee([y,"streamData"],null),{data:O,mutate:C}=ee([y,"error"],null),j=(0,o.useRef)(v||[]);(0,o.useEffect)(()=>{j.current=v||[]},[v]);let k=(0,o.useRef)(null),R=(0,o.useRef)({credentials:d,headers:f,body:p});(0,o.useEffect)(()=>{R.current={credentials:d,headers:f,body:p}},[d,f,p]);let P=(0,o.useCallback)(async t=>{try{E(!0),C(void 0);let n=new AbortController;k.current=n,await e_({getStreamedResponse:()=>ev(e,t,b,x,S,R,j,k,g,u,s,a),experimental_onFunctionCall:i,experimental_onToolCall:l,updateChatRequest:e=>{t=e},getCurrentMessages:()=>j.current}),k.current=null}catch(e){if("AbortError"===e.name)return k.current=null,null;c&&e instanceof Error&&c(e),C(e)}finally{E(!1)}},[b,E,e,R,s,u,c,C,x,S,a,i,l,j,k,g]),I=(0,o.useCallback)(async(e,{options:t,functions:n,function_call:r,tools:o,tool_choice:a,data:i}={})=>{e.id||(e.id=g());let l={messages:j.current.concat(e),options:t,data:i,...void 0!==n&&{functions:n},...void 0!==r&&{function_call:r},...void 0!==o&&{tools:o},...void 0!==a&&{tool_choice:a}};return P(l)},[P,g]),T=(0,o.useCallback)(async({options:e,functions:t,function_call:n,tools:r,tool_choice:o}={})=>{if(0===j.current.length)return null;let a=j.current[j.current.length-1];if("assistant"===a.role){let a={messages:j.current.slice(0,-1),options:e,...void 0!==t&&{functions:t},...void 0!==n&&{function_call:n},...void 0!==r&&{tools:r},...void 0!==o&&{tool_choice:o}};return P(a)}let i={messages:j.current,options:e,...void 0!==t&&{functions:t},...void 0!==n&&{function_call:n},...void 0!==r&&{tools:r},...void 0!==o&&{tool_choice:o}};return P(i)},[P]),A=(0,o.useCallback)(()=>{k.current&&(k.current.abort(),k.current=null)},[]),M=(0,o.useCallback)(e=>{b(e,!1),j.current=e},[b]),[D,N]=(0,o.useState)(r),V=(0,o.useCallback)((e,t={},n)=>{n&&(R.current={...R.current,...n}),e.preventDefault(),D&&(I({content:D,role:"user",createdAt:new Date},t),N(""))},[D,I]);return{messages:v||[],error:O,append:I,reload:T,stop:A,setMessages:M,input:D,setInput:N,handleInputChange:e=>{N(e.target.value)},handleSubmit:V,isLoading:w,data:S}}}}]);